.. _pvwatts:

Основне једначине модела
==========================

Као што је већ најављено у претходном одељку :ref:`solari_uvod`, за моделовање методом НМПФЗ користићемо једноставан *PVWAtts* модел :cite:t:`dobos2014pvwatts`. Вертикала моделовања састоји се из три корака:

- прорачун температуре соларног панела,
- прорачун излазне снаге једносмерне струје (*PVWatts* у ужем смислу) и
- прорачун излазне наизменичне струје на излазу из инвертера.


Прорачун температуре соларног панела 
----------------------------------------

Загревање соларног панела утиче на промену напона, па је прорачун температуре панела значајна ставка у моделовању перформанси. У широкој употреби су два модела, и то SAPM (*Sandia Array Performance Model*) и PVSyst. Ми ћемо користити овај први. SAPM методологија моделирања температуре ћелије :math:`T_{cell}` дата је следећим паром једначина: 

.. math::
    :label: eq:sapm-temp

    T_m = E \cdot e^{a + b W_s} + T_a \\
    T_{cell} = T_m + \frac{E}{E_0} \Delta T,

где :math:`E` представља интензитет *POA* зрачења, :math:`W_c` представља брзину ветра на висини од 10 метара, :math:`T_a` температуру ваздуха, док је :math:`E_0` референтна вредности интензитета *POA* зрачења, за коју се обично узима вредност од :math:`1000 W/m^2`. 

Вредности параметара :math:`a,b,\Delta T` су специфичне за различите моделе соларних панела у зависности од начина њихове израде (*glass/glass* или *glass/polymer*) и начина на који се постављају (*open rack, close roof, open rack, insulated back*).  


Излазна снага једносмерне струје
-----------------------------------

Модел *PVWatts* први пут је објављен од стране *National Renewable Energy Laboratory (NREL)*. Једначине на којима је базиран су релативно једноставне. Улазне варијабле су:

- Ефективна осунчаност :math:`G_{poaeff}` - Укупна озраченост у јединицама :math:`W/m^2`. Подразумева се да смо већ узели у обзир губитке на основу угла под којим је панел постављен, али не и друге губитке, нпр. због прашине, спектралне губитке, итд.

- Температура панела :math:`T_c` која се добија из једначине :math:numref:`eq:sapm-temp`.

Израз гласи:

.. math:: 
    :label: eq:pvwatts

    P_{dc} = \frac{G_{poa eff}} {1000} P_{dc0} ( 1 + \gamma_{pdc} (T_{cell} - T_{ref})),

где су :math:`P_{dc0}` и :math:`T_{ref}` номинална снага панела и референтна температура (подразумевано 25° C), респективно. :math:`\gamma_{pdc}` представља температурни коефицијент у јединицама :math:`1/C` са типичним вредностима у интервалу од -0,002 до -0,005 по степену Целзијуса. Што је овај коефицијент виши по апсолутној вредности, то производња више опада загревањем панела. 

*PVWatts* модел инвертера
----------------------------

*PVWatts* модел инвертера :cite:t:`dobos2014pvwatts` рачуна његову ефикасност :math:`\eta` као функцију улазне снаге једносмерне струје:

.. math::
    :label: eq:pvwatts-inverter

    \eta = \frac{\eta_{nom}}{\eta_{ref}} (-0,0162\zeta - \frac{0,0059} {\zeta} + 0,9858),

где је :math:`\zeta=P_{dc}/P_{dc0}` и :math:`P_{dc0}=P_{ac0}/\eta_{nom}`.

Тада је снага излазне наизменичне струје:

.. math::

    P_{ac} = \min(\eta P_{dc}, P_{ac0}).

Величина :math:`P_{dc}` представља улазну снагу једносмерне струје и дата је у истим јединицама као :math:`P_{dc0}`. :math:`P_{dc0}` је горња граница улазне снаге. Коефицијенти :math:`\eta_{nom}` и :math:`\eta_{ref}` имају подразумеване вредности од 0,96 и 0,9637 респективно. 
